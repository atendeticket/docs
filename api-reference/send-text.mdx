---
title: Send text message
description: Envie mensagens de texto através da API do AtendeTicket
---

## Endpoint

```
POST https://api.atendeticket.com/api/messages/send
```

## Headers

| Header | Value | Required |
|--------|-------|----------|
| `Authorization` | `Bearer {token}` | Yes |
| `Content-Type` | `application/json` | Yes |

## Request body

<ParamField body="number" type="string" required>
  Número do destinatário sem máscara ou caracteres especiais.
  
  Formato: Código do País + DDD + Número
  
  **Exemplo:** `558599999999`
</ParamField>

<ParamField body="body" type="string" required>
  Conteúdo da mensagem de texto a ser enviada
</ParamField>

<ParamField body="userId" type="string">
  ID do usuário/atendente responsável pelo envio. Use `""` se não aplicável
</ParamField>

<ParamField body="queueId" type="string">
  ID da fila para organização. Use `""` se não aplicável
</ParamField>

<ParamField body="sendSignature" type="boolean">
  Define se a mensagem deve ser assinada
  
  **Valores:** `true` ou `false`
</ParamField>

<ParamField body="closeTicket" type="boolean">
  Define se o ticket deve ser encerrado após o envio
  
  **Valores:** `true` ou `false`
</ParamField>

## Example request

```json
{
  "number": "558599999999",
  "body": "Olá! Esta é uma mensagem de teste.",
  "userId": "123",
  "queueId": "456",
  "sendSignature": true,
  "closeTicket": false
}
```

## Example with cURL

```bash
curl -X POST https://api.atendeticket.com/api/messages/send \
  -H "Authorization: Bearer seu_token_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "number": "558599999999",
    "body": "Olá! Esta é uma mensagem de teste.",
    "userId": "",
    "queueId": "",
    "sendSignature": false,
    "closeTicket": false
  }'
```

## Example with JavaScript

```javascript
const response = await fetch('https://api.atendeticket.com/api/messages/send', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer seu_token_aqui',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    number: '558599999999',
    body: 'Olá! Esta é uma mensagem de teste.',
    userId: '',
    queueId: '',
    sendSignature: false,
    closeTicket: false
  })
});

const data = await response.json();
console.log(data);
```

## Example with Python

```python
import requests

url = "https://api.atendeticket.com/api/messages/send"
headers = {
    "Authorization": "Bearer seu_token_aqui",
    "Content-Type": "application/json"
}
payload = {
    "number": "558599999999",
    "body": "Olá! Esta é uma mensagem de teste.",
    "userId": "",
    "queueId": "",
    "sendSignature": False,
    "closeTicket": False
}

response = requests.post(url, json=payload, headers=headers)
print(response.json())
```

## Playground

Teste a API diretamente aqui:

<RequestExample>

```bash cURL
curl -X POST https://api.atendeticket.com/api/messages/send \
  -H "Authorization: Bearer seu_token_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "number": "558599999999",
    "body": "Olá! Esta é uma mensagem de teste.",
    "userId": "",
    "queueId": "",
    "sendSignature": false,
    "closeTicket": false
  }'
```

```javascript JavaScript
const response = await fetch('https://api.atendeticket.com/api/messages/send', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer seu_token_aqui',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    number: '558599999999',
    body: 'Olá! Esta é uma mensagem de teste.',
    userId: '',
    queueId: '',
    sendSignature: false,
    closeTicket: false
  })
});

const data = await response.json();
console.log(data);
```

```python Python
import requests

url = "https://api.atendeticket.com/api/messages/send"
headers = {
    "Authorization": "Bearer seu_token_aqui",
    "Content-Type": "application/json"
}
payload = {
    "number": "558599999999",
    "body": "Olá! Esta é uma mensagem de teste.",
    "userId": "",
    "queueId": "",
    "sendSignature": False,
    "closeTicket": False
}

response = requests.post(url, json=payload, headers=headers)
print(response.json())
```

</RequestExample>

<ResponseExample>

```json Success
{
  "success": true,
  "messageId": "ABC123XYZ",
  "status": "sent"
}
```

```json Error
{
  "success": false,
  "error": "Invalid token or connection not found"
}
```

</ResponseExample>

## Response

The API will return a response indicating the success or failure of the message sending operation.

<Note>
  Certifique-se de que o token está corretamente cadastrado na conexão antes de enviar mensagens.
</Note>
